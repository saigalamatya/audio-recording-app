<div class="wrapper" #wrapper>

  <button type="button" class="btn btn-primary" (click)="startRecording()">Record</button>&nbsp;
  <button type="button" class="btn btn-danger" (click)="stopRecording()">Stop</button>

  <canvas class="visualizer" width="640" height="100" #myCanvas></canvas>

  <!-- <canvas class="sine-wave-visualizer" width="300" height="100"></canvas> -->
  <div id="waveform"></div>
  <div id="waveform1"></div>

  <div class="waveform-container">
    <div class="zoom-view-container"></div>
    <div class="overview-container"></div>
  </div>
</div>

<div class="pitch"><span id="pitch">Pitch: {{pitch.toFixed(2)}}</span>Hz</div>
<div *ngIf="recordCompleted">
  <div class="form-group form-check">
    <input type="checkbox" class="form-check-input" id="exampleCheck1" (change)="togglePitchDisplay()">
    <label class="form-check-label" for="exampleCheck1">{{pitchShowHideText}}</label>
  </div>
</div>

<!-- <div id="chartdiv" style="width: 100%; height: 500px"></div> -->

<div class="container">
  <div class="control-section" *ngIf="recordCompleted">
    Average pitch of selected range: {{rangeAverage}} Hz
    <button type="button" class="btn btn-success" (click)="addToRollingAverage()">Add to Rolling Average</button>
    <div class="row" align="center">
      <div align="center">
        <ejs-rangenavigator style='display:block' align='center' id='containerDouble' [value]='rangeValue'
          labelPosition='Outside' [width]='width' (changed)='changed($event)' [theme]='theme'
          (tooltipRender)='tooltipRender($event)' (load)='load($event)'>
          <e-rangenavigator-series-collection>
            <!-- <e-rangenavigator-series [dataSource]='dataSource' xName='x' yName='y' width=2 name='AUS'>
          </e-rangenavigator-series> -->
            <e-rangenavigator-series [dataSource]='dataSource1' xName='x' yName='y' width=2 name='SL'>
            </e-rangenavigator-series>
          </e-rangenavigator-series-collection>
        </ejs-rangenavigator>
      </div>
      <div align="center">
        <ejs-chart #chartDouble style='display:block;' id='chartDouble' align='center' [chartArea]='chartArea'
          [width]='width' [primaryXAxis]='primaryXAxis' [primaryYAxis]='primaryYAxis' height='350' [theme]='theme'
          [tooltip]='tooltip' [annotations]='annotations' (loaded)='loaded($event)'
          (axisLabelRender)='axisLabelRender($event)'>
          <!--      [legendSettings]='legendSettings'-->
          <e-series-collection>
            <!-- <e-series [dataSource]='dataSource' name='Value' type='Spline' xName='x' yName='y' width='2'
            [animation]='animation'>
          </e-series> -->
            <e-series [dataSource]='dataSource1' name='Value' type='Spline' xName='x' yName='y' width='2'
              [marker]="marker" [animation]='animation'>
            </e-series>
          </e-series-collection>
        </ejs-chart>
      </div>
    </div>
    <div class="row">
      <label>Rolling Average Chart</label>
      <br />
      <div align="center">
        <ejs-chart #rollingAverageChart style='display:block;' id='rollingAverageChart' align='center'
          [chartArea]='chartArea' [width]='width' [primaryXAxis]='primaryXAxis' [primaryYAxis]='primaryYAxis'
          height='350' [theme]='theme' [tooltip]='tooltip' [annotations]='annotations' (loaded)='loaded($event)'
          (axisLabelRender)='axisLabelRender($event)'>
          <!--      [legendSettings]='legendSettings'-->
          <e-series-collection>
            <e-series [dataSource]='rollingAverageDataSource' name='Value' type='Spline' xName='x' yName='y' width='2'
              [marker]="marker" [animation]='animation'>
            </e-series>
          </e-series-collection>
        </ejs-chart>
      </div>
    </div>
  </div>
</div>